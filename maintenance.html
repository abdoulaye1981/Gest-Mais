<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Maintenance - Gestion des locations</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <style>
    :root { --primary: #4f46e5; --background: #f9fafb; }
    body { background-color: var(--background); }
    .title { color: var(--primary); }
  </style>
</head>
<body>
  <script>
  if (!localStorage.getItem('auth')) location.href = 'login.html';
</script>
<section class="section">
  <h1 class="title">Maintenance des maisons</h1>

  <!-- Navigation -->
  <nav class="tabs">
    <ul>
      <li><a href="index.html">Maisons</a></li>
      <li class="is-active"><a href="maintenance.html">Maintenance</a></li>
      <li><a href="paiements.html">Paiements</a></li>
      <li><a href="incidents.html">Incidents</a></li>
      <li><a href="stats.html">ðŸ“Š Stats</a></li>
      <li><a href="export.html">ðŸ“¥ Export</a></li>
    </ul>
  </nav>

  <!-- Filtre par maison -->
  <div class="field">
    <label class="label">Filtrer par maison</label>
    <div class="control">
      <div class="select">
        <select id="filter-maison">
          <option value="">Toutes</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Table -->
  <div class="table-container">
    <table class="table is-striped is-fullwidth">
      <thead>
        <tr>
          <th>Maison</th>
          <th>Date</th>
          <th>ProblÃ¨me</th>
          <th>Statut</th>
          <th>CoÃ»t estimÃ©</th>
          <th>Notes</th>
        </tr>
      </thead>
      <tbody id="data-body"></tbody>
    </table>
  </div>

  <button class="button is-primary" onclick="exportPDF()">Exporter PDF</button>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
<script src="maintenance.js"></script>
</body>
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker
      .register('sw.js')
      .then(reg => console.log('SW enregistrÃ©', reg))
      .catch(err => console.error('SW erreur', err));
  }
</script>
</html>
